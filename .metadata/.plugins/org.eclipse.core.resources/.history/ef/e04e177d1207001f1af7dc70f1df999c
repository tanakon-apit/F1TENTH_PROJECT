/*
 * AS5600.h
 *
<<<<<<< Updated upstream
 *  Created on: Apr 30, 2024
 *      Author: 08809
=======
 *  Created on: Apr 18, 2024
 *      Author: tucha
>>>>>>> Stashed changes
 */

#ifndef INC_AS5600_H_
#define INC_AS5600_H_

#include "stm32g4xx_hal.h"
#include "math.h"

#define AS5600_ADD 0x36 << 1
<<<<<<< Updated upstream
#define AS5600_ANGLE 0x0E

typedef enum {
	Degree,
	Radian
=======

#define AS5600_ANGLE 0x0E
#define AS5600_SW_DIRECTION_PIN 255
#define AS5600_CLOCK_WISE         0
#define AS5600_COUNTERCLOCK_WISE  1

typedef enum {
	Degree,
	Radian
>>>>>>> Stashed changes
}Angle_Unit;

typedef struct {
	I2C_HandleTypeDef *hi2cx;
<<<<<<< Updated upstream
	HAL_DMA_StateTypeDef flag;
	uint8_t DataBuffer[2];
	float gain;
	float abs_angle;
	double inc_angle;
=======
	HAL_StatusTypeDef flag;
	uint8_t RxBuffer[2];
	float gain;
	double ang;
>>>>>>> Stashed changes
}AS5600_Structure;

HAL_StatusTypeDef AS5600_Init(AS5600_Structure *as5600, I2C_HandleTypeDef *hi2cx, Angle_Unit unit);

float AS5600_Read_Absolute_DMA(AS5600_Structure *as5600);

double AS5600_Read_Increment_DMA(AS5600_Structure *as5600);

<<<<<<< Updated upstream
void AS5600_Reset(AS5600_Structure *as5600);
=======
void AS5600_Reset_Increment(AS5600_Structure *as5600);
>>>>>>> Stashed changes

#endif /* INC_AS5600_H_ */
